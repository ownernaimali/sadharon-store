<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Store</title>
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  
  <header id="header">

  <div class="nav-wrapper">
    <div class="menu-toggle">Menu</div>

    <nav>
      <div class="navbar-container">
        <p class="nav-title">Sadharon Store</p>
        <ul class="nav-link-container">
          <li class="nav-link"><a href="">Home</a></li>
          <li class="nav-link"><a href="add-product.html">Add Product</a></li>
          <li class="nav-link"><a href="view-product.html">View Product</a></li>
          <li class="nav-link"><a href="delete-product.html">Delete Product</a></li>
          <li class="nav-link"><a href="add-to-card.html">My Order</a></li>
          <li class="nav-link"><a href="">Contact</a></li>
          <li class="nav-link"><a href="">More</a></li>
        </ul>
      </div>
    </nav>
  </div>

  <div class="top-header main-container">
    <h3>Stored by owner.</h3>
  </div>
  
   <div class="banner">
  <h1>SADHARON STORE</h1>
  <h2>নিত্যপ্রয়োজনীয় সব পণ্য একসাথে</h2>
  <p>Quality Products for Everyday Life</p>
     <a href="#main"><button>Shop Now</button></a>
   </div>

</header>
  <main id="main">
    <section id="category">
      <h2>Category</h2>
      <div class="category-container container">
        <div class="category-item"></div>
        <div class="category-item"></div>
        <div class="category-item"></div>
        <div class="category-item"></div>
        <div class="category-item"></div>
        <div class="category-item"></div>
        <div class="category-item"></div>
        <div class="category-item"></div>
        <div class="category-item"></div>
      </div>
    </section>
    <section id="product">
      <div id="product-container" class="product-container container">
        loading....... 
      </div>
    </section>
    
    <section id="package-offer">
        <div class="package-offer-container">
            <div class="package-offer-img"></div>
        </div>
    </section>
    
  </main>
  <footer id="footer">
      <div class="footer-container">
          <p>Sadharon Store</p>
          <ul class="footer-link-container">
            <li><a class="footer-link" href="/">Home Page</a></li>
            <li><a class="footer-link" href="/">Home Page</a></li>
            <li><a class="footer-link" href="/">Home Page</a></li>
            <li><a class="footer-link" href="/">Home Page</a></li>
            <li><a class="footer-link" href="/">Home Page</a></li>
              
          </ul>
          <p class="copyright">copyright &copy; 2025. All rights reserved</p>
      </div>
  </footer>
  <script>
 

  
   const LOCALHOST = "http://localhost:3000/products";
  const SERVER = "https://sadharon-store-server.vercel.app/products";

  const API = SERVER;
function loadProducts(){
  fetch(API)
  .then(res => res.json())
  .then(products => {
    const list = document.getElementById("product-container");
    list.innerHTML = "";

    products.forEach(p => {
     
      list.innerHTML += `
      
        <div class="product-item">
           <div class="product-description">
             <div class="product-img">
               <img style="width: 200px; height: 140px;" src="${p.productImageLink}" alt="${p.name}"/>
             </div>
             <p class="product-name">${p.name}</p>
             <p class="product-prize"><span class="actual-prize">&nbsp; ${p.actualPrice} &nbsp;</span> <span class="discount-prize">${p.discountPrice}</span> Tk</p>
             <!--<p class="product-info"><span>In stock: 34</span> <span>Ratting: 4.3</span></p>-->
           </div>
           <div class="action-button-container">
             <button class="btn-add-to-cart" onclick='addToCart(${JSON.stringify(p)})'>Add to Card</button>
           </div>
         </div>
      
      `;
    });
  });
}
  

loadProducts();
  
  
function addToCart(product){
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  const exists = cart.find(item => item.id === product._id);

  if(exists){
    exists.quantity += 1;
  }else{
    cart.push({
      id: product._id,
      name: product.name,
      price: product.discountPrice,
      image: product.productImageLink,
      quantity: 1
    });
  }

  localStorage.setItem("cart", JSON.stringify(cart));
  alert("✅ Added to cart!");
}
</script>
  
  
  
  </script>
</body>
</html>
